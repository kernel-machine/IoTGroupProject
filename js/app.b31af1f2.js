(function(e){function t(t){for(var a,i,s=t[0],l=t[1],u=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/IoTGroupProject/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("9f4d")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("5f5b"),r=n("b1e0"),i=n("8c4f"),s=(n("f9e3"),n("2dd8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Reserve a docking spot")]),n("p",[e._v("Make here your reservation by compiling the form below.")]),n("b-form",{attrs:{action:"#"},on:{submit:e.onSubmit,reset:e.onReset}},[n("b-form-group",{staticClass:"my-3",attrs:{"label-for":"plate",label:"Boat license plate",description:"Use the pattern AB1234"}},[n("b-form-input",{attrs:{id:"plate",placeholder:"AB1234",pattern:"[A-Za-z]{2}[0-9]{2,6}",required:""},model:{value:e.form.plate,callback:function(t){e.$set(e.form,"plate",t)},expression:"form.plate"}})],1),n("b-form-group",{staticClass:"my-3",attrs:{label:"Boat size category:","label-for":"boatSize"}},[n("b-form-select",{staticClass:"form-select",attrs:{id:"boatSize",options:e.sizeCategories,required:""},model:{value:e.form.sizeCategory,callback:function(t){e.$set(e.form,"sizeCategory",t)},expression:"form.sizeCategory"}})],1),n("b-form-group",{staticClass:"my-3",attrs:{"label-for":"ownerName",label:"Owner full name"}},[n("b-form-input",{attrs:{id:"ownerName",placeholder:"Mario Rossi",required:""},model:{value:e.form.ownerName,callback:function(t){e.$set(e.form,"ownerName",t)},expression:"form.ownerName"}})],1),n("div",{staticClass:"my-2"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),n("b-button",{staticClass:"mx-3",attrs:{type:"reset",variant:"warning"}},[e._v("Reset")])],1)],1)],1)}),l=[],u=n("bc3a"),c=n.n(u),p={name:"Reservation",data:function(){return{form:{ownerName:"",plate:"",sizeCategory:null},sizeCategories:[{text:"Select One",value:null},{text:"Up to 8 meters",value:1},{text:"From 8 up to 13 meters",value:2},{text:"From 13 to 17 meters",value:3}]}},methods:{onSubmit:function(e){var t=this;e.preventDefault();var n={},a={headers:{"boat-id":this.form.plate,"boat-dim":this.form.sizeCategory,owner:this.form.ownerName}};return c.a.post("https://zki9fxvfvi.execute-api.us-east-1.amazonaws.com/default/getReservation",n,a).then((function(e){0==e.data.ret_code?(t.onReset(),alert(e.data.info_mess)):alert(e.data.info_mess)})).catch((function(e){console.log("ERRORE",e)})),!1},onReset:function(){this.form.ownerName="",this.form.plate="",this.sizeCategory=null}}},d=p,f=n("2877"),m=Object(f["a"])(d,s,l,!1,null,"152bf5d7",null),b=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Enable the GPS tracking")]),n("p",[e._v(" Activate here the GPS tracking of your boat if you don't want to use\n\tthe automatic license plate recognition service.\n\tIndentify your boat by inserting here the license plate and then click on the button enable.")]),n("p",[e._v("\n      When you will be near the marina entrance the monitors will automatically \n\t  show you the information to reach your docking spot.")]),n("b-form",{attrs:{action:"#"},on:{submit:e.onSubmit}},[n("b-form-group",{staticClass:"my-3",attrs:{"label-for":"plate",label:"Boat license plate",description:"Use the pattern AB1234"}},[n("b-form-input",{attrs:{id:"plate",placeholder:"AB1234",pattern:"[A-Za-z]{2}[0-9]{2,6}",required:""},model:{value:e.form.plate,callback:function(t){e.$set(e.form,"plate",t)},expression:"form.plate"}})],1),n("div",{staticClass:"my-2"},[n("b-button",{attrs:{type:"submit",variant:"success",disabled:e.sendingUpdate}},[e._v("Enable")]),n("b-button",{staticClass:"mx-3",attrs:{variant:"danger",disabled:!e.sendingUpdate},on:{click:e.disableGPS}},[e._v("Disable")])],1)],1),e.sendingUpdate?n("div",{staticClass:"text-center"},[n("h3",{staticClass:"text-success"},[e._v("Sending device position...")])]):e._e(),e.boatDetected?n("div",{staticClass:"text-center"},[n("h3",{staticClass:"text-success"},[e._v("Boat detected")]),n("p",[e._v("Follow the smart signage instructions")]),n("p",[e._v("You can close the web page")])]):e._e()],1)},h=[],g=(n("a9e3"),{name:"GPS",data:function(){return{form:{plate:""},watchId:null,sendingUpdate:!1,boatDetected:!1}},mounted:function(){if("geolocation"in navigator);else{var e="Geolocation is not available.";alert(e)}},methods:{onSubmit:function(e){var t=this;e.preventDefault();var n={enableHighAccuracy:!0,maximumAge:1e3};return this.sendingUpdate=!1,this.watchId=navigator.geolocation.watchPosition((function(e){t.sendGPSUpdate(e.coords.latitude,e.coords.longitude)}),(function(e){console.log(e.message),t.sendingUpdate=!1}),n),!1},disableGPS:function(){this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null,this.sendingUpdate=!1)},sendGPSUpdate:function(e,t){var n=this;console.log("POS",e,t);var a={},o={headers:{"boat-id":this.form.plate,latitude:Number(e),longitude:Number(t)}};c.a.post("https://kayib6g5eg.execute-api.us-east-1.amazonaws.com/default/GPSHandle",a,o).then((function(e){0==e.data.ret_code?(n.boatDetected=!0,n.disableGPS()):10==e.data.ret_code?(n.sendingUpdate=!0,n.boatDetected=!1):(alert("Error in position processing"),n.disableGPS())})).catch((function(e){console.log(e)}))}}}),y=g,_=Object(f["a"])(y,v,h,!1,null,"1f0ac569",null),k=_.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("b-container",[n("router-view",{staticStyle:{padding:"20px"}})],1)],1)},x=[],S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{staticClass:"topBar",attrs:{type:"light",variant:"light"}},[n("b-navbar-nav",[n("router-link",{attrs:{to:"/",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.navigate;return[n("b-navbar-brand",{attrs:{role:"link"},on:{click:a,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.apply(null,arguments)}}},[e._v("Home")])]}}])}),n("router-link",{attrs:{to:"/reservation",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.navigate;return[n("b-navbar-brand",{attrs:{role:"link"},on:{click:a,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.apply(null,arguments)}}},[e._v("Reservation")])]}}])}),n("router-link",{attrs:{to:"/gps",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.navigate;return[n("b-navbar-brand",{attrs:{role:"link"},on:{click:a,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.apply(null,arguments)}}},[e._v("GPS")])]}}])})],1)],1)],1)},C=[],O={name:"Header"},P=O,G=(n("c195"),Object(f["a"])(P,S,C,!1,null,"6a890878",null)),j=G.exports,z={name:"app",components:{Header:j}},E=z,R=(n("034f"),Object(f["a"])(E,w,x,!1,null,null,null)),U=R.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("\n      Smart signage system web inerface\n    ")]),n("p",[e._v("\n      This web page is the simplest way to interact with the smart signage system used inside the marina.\n    ")]),n("p",[e._v("\n      Open the page "),n("router-link",{attrs:{to:"/reservation"}},[e._v("Reservation")]),e._v(" to make a reservation for a docking spot in the marina.\n    ")],1),n("p",[e._v("\n      If you already made a reservation and you want to use the GPS of your device to let us know when you are entering in the marina,  \n\t  open the page "),n("router-link",{attrs:{to:"/gps"}},[e._v("GPS")]),e._v(" and follow the instructions.\n    ")],1),n("p",[e._v("\n\tFor more technical details about this system visit our GitHub repository.\n    ")]),n("p",[n("GithubButton",{attrs:{href:"https://github.com/kernel-machine/IoTGroupProject","data-size":"large"}},[e._v("\n        Open on GitHub\n      ")])],1)])},I=[],N=n("e878"),$={name:"Home",components:{GithubButton:N["a"]}},A=$,H=Object(f["a"])(A,B,I,!1,null,"75a5e706",null),D=H.exports;a["default"].config.productionTip=!1;var T=[{path:"/",component:D},{path:"/reservation",component:b},{path:"/gps",component:k}],M=new i["a"]({base:"IoTGroupProject",routes:T});a["default"].use(i["a"]),a["default"].use(o["a"]),a["default"].use(r["a"]),new a["default"]({el:"#app",router:M,render:function(e){return e(U)}}).$mount("#app")},"9f4d":function(e,t,n){},b2ce:function(e,t,n){},c195:function(e,t,n){"use strict";n("b2ce")}});
//# sourceMappingURL=app.b31af1f2.js.map